<%= turbo_frame_tag @order do %>

  <div class="d-flex justify-content-between mb-2">

    <div>
      <h1 class="m-0" style="line-height: 39px;">
        Order
      </h1>
      <small class="text-muted">
        <%= @order.id %>
      </small>
    </div>

    <div>
      <a href="<%= edit_app_order_path @order %>" class="btn btn-success" data-turbo-action="advance">
        <i data-feather="edit-3"></i> Edit
      </a>
    </div>

  </div>


  <div class="card">
    <div class="card-content">
      <div class="card-body">

        <div class="row">

          <div class="col-12 col-lg-6 col-md-6 col-sm-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">
                  Details
                </h3>
              </div>
              <div class="card-body">
                <!-- created at -->
                <p>
                  <b>Created at:</b> <%= @order.created_at %>
                </p>
                <!-- updated at -->
                <p>
                  <b>Updated at:</b> <%= @order.updated_at %>
                </p>

                <!-- payment status -->
                <p>
                  <b>Payment status:</b> <%= render App::PaymentStatusComponent.new(@order.payment_status), cached: true %>
                </p>

                <!-- status -->
                <p>
                  <b>Status:</b> <%= render App::OrderStatusComponent.new(@order.status), cached: true %>
                </p>



              </div>
            </div>
          </div>

        </div>

      </div>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      <h4 class="card-title">Items</h4>
    </div>
    <div class="card-body">
      <p class="card-text">

      </p>
    </div>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead>
        <tr>
          <th>Product</th>
          <th>Quantity</th>
        </tr>
        </thead>
        <tbody>

        <% @order.order_items.each do |order_item| %>
          <tr>
            <td><%= order_item.product.name %></td>
            <td><%= order_item.quantity %></td>
          </tr>
        <% end %>

        </tbody>
      </table>
    </div>
  </div>

<% end %>